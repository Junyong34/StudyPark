
### 터널링

리눅스 터널링은 컴퓨터 네트워크 기술의 한 종류로, 원격 컴퓨터에 있는 자원을 로컬 컴퓨터에서 사용할 수 있도록 해주는 기술입니다. 일반적으로 리눅스 터널링은 원격 컴퓨터에 있는 자원을 직접 접근할 수 없는 경우, 예를 들어 원격 컴퓨터가 방화벽으로 인해 외부에서 접근할 수 없거나, 원격 컴퓨터에 있는 자원을 익명으로 사용하고 싶은 경우에 사용된다.

* * *

### Session 과 Cookie

WAS에서 생성한 Session 같은 도메인에서는 유지가 되다가 결제 모듈로 페이지 전환이 일어나는 경우 세션이 사라지는 현상이 발생 했다. 결제 모듈만 다녀오면, 로그인이 풀려버리는... 그래서 이것 저것 정보를 찾다보니 2020년 2월에 크롬에서 새로운 쿠키가 적용되면서 쿠기에  sameSite 기본 값이 `None` 에서 `Lax`로 변경 되었다고 한다.

`SameSite` 속성은 서로 다른 도메인에서 쿠기 전송에 대한 보안을 설정하는 옵션이다.
- `None`는 서로 다른 도메인끼리 쿠키 전송이 가능하다.
- `Strict`는 서로 다른 도메인에서는 쿠키 전송이 불가능하다. 
- `Lax`는 Strict 정책에서 몇가지 예외처리가 추가된 정책이다. (Lax에서 GET 요청은 허용한다.)

즉 백앤드에서 `cookieserializer`를 통해 SameSite 옵션을 None 주었다. 
> None 경우 반드시 Https 프로토콜에서 쿠기 Secure 속성을 사용해야한다.
> Secure true를 주지 않으면 요청 header에서 경고 마크를 볼 수 있다.

Secure 옵션은 https 통신을 수행하는 경우에만 쿠키를 전송하는 옵션이다.
즉,  Cookie의 Secure 설정은 쿠키가 전송될 때 암호화된 채널을 통해 전송되도록 하는 설정이다.
Secure 설정이 적용된 쿠키는 암호화된 채널을 통해 전송되기 때문에, 전송과정에서 인터셉트되거나 정보가 유출될 위험이 낮아 진다.

SameSite, Secure 설정을 통해 결제 이후에도 세션이 유지가 되도록 처리 했다.

* * *

### 리눅스 명령어

오랜만에 리눅스에 접속을 하게 되면 명령어가 너무 기억이 안나서.. 오늘 사용한 명령어를 적어본다.

보안 파일 복사
- scp  -i  key.pem   [복사 대상 파일 ]   name@host:/[복사 되는 위치]

 현재 디렉터리 파일 삭제
- rm -rf  * 

 압축해제
 - unzip [압축파일]

 특정 키워드 검색
 - grep -i jun sever.log


 



